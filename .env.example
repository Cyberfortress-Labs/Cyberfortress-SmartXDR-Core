
# ===========================================
# SmartXDR API URL (Internal Communication)
# ===========================================
# URL for middleware services (Telegram bot, etc.) to call the API internally.
# - Use http://localhost:8080 for local development
# - Use http://smartxdr-core:8080 for Docker internal network (container-to-container)
# - Do NOT use HTTPS here as internal traffic doesn't need SSL
# - HTTPS is handled by nginx externally on port 8443
SMARTXDR_API_URL=http://localhost:8080
REDIS_HOST=localhost

# ===========================================
# SmartXDR URL (External Display)
# ===========================================
# The external URL that users access SmartXDR from (shown in CLI output).
# This is different from SMARTXDR_API_URL which is for internal communication.
# - Set to your public/private domain with HTTPS port
# Example: https://smartxdr.yourdomain.com or https://localhost:8443
SMARTXDR_URL=https://smartxdr.cyberfortress.local

# Flask Security
SECRET_KEY=your_secret_key_here_generate_with_secrets_token_urlsafe_32
SECURITY_PASSWORD_SALT=your_password_salt_here_generate_with_secrets_token_urlsafe_32

# Port Configuration
NGINX_HTTPS_PORT=443
NGINX_HTTP_PORT=80
API_PORT=8080


# ===========================================
# Cloudflare Tunnel Configuration
# ===========================================
CLOUDFLARE_TUNNEL_ID=your-tunnel-id-here
TUNNEL_DOMAIN=your-domain.example.com


# ===========================================
# ChromaDB Configuration
# ===========================================
# ChromaDB for RAG Knowledge Base (primary)
CHROMA_DATA_HOST=chromadb-data
CHROMA_DATA_EXTERNAL_PORT=8000

# ChromaDB for Conversation History
CHROMA_CONV_HOST=chromadb-conv
CHROMA_CONV_EXTERNAL_PORT=8001



# ===========================================
# Debug Configuration
# ===========================================
DEBUG=true
DEBUG_LLM=false

# ===========================================
# LLM API Keys Configuration
# ===========================================
OPENAI_API_KEY=sk-proj-your_openai_api_key_here
EMBEDDING_MODEL=text-embedding-3-small
CHAT_MODEL=gpt-5-mini
SUMMARY_MODEL=gpt-5-mini


# ===========================================
# IRIS and Elasticsearch Configuration
# ===========================================
# IRIS Configuration
IRIS_URL=https://iris.example.com
IRIS_API_KEY=your_iris_api_key_here

# Elasticsearch Configuration
# Enable/Disable Elasticsearch connection (true/false)
ELASTICSEARCH_ENABLED=false
ELASTICSEARCH_HOSTS=https://elasticsearch.example.com:9200
ELASTICSEARCH_USERNAME=your_username_here
ELASTICSEARCH_PASSWORD=your_password_here

# SSL/TLS Configuration - Self-signed CA Certificate
ELASTICSEARCH_CA_CERT=certs/CyberFortress-RootCA.crt
IRIS_CA_CERT=certs/CyberFortress-RootCA.crt

# ===========================================
# Telegram Bot Integration (Recommended)
# ===========================================
# Enable/Disable Telegram bot entirely (true/false)
TELEGRAM_BOT_ENABLED=true
# Get token from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
# Comma-separated chat IDs to allow (empty = allow all)
TELEGRAM_ALLOWED_CHATS=
# Long polling timeout in seconds
TELEGRAM_POLLING_TIMEOUT=30
# Enable auto Cloudflare Tunnel + Webhook (true/false)
TELEGRAM_WEBHOOK_ENABLED=true

# ===========================================
# API Authentication Configuration
# ===========================================
# Enable/Disable API Key authentication (true/false)
API_AUTH_ENABLED=true


# IP Whitelist (optional, comma-separated, supports wildcard *)
# Leave empty to allow all IPs
API_IP_WHITELIST="127.0.0.1,10.10.21.*,192.168.1.*, 192.168.100.*,172.20.0.*"
# API_IP_WHITELIST=""

# Time window for ML alert grouping (supports: 7d, 10h, 60m, or plain number in minutes)
ALERT_TIME_WINDOW=7d

# Time to send daily report (24-hour format, HH:MM)
DAILY_REPORT_TIME=07:00

# Master API Key (for internal services)
# See README to generate a secure key for SmartXDR Master API Key
SMARTXDR_MASTER_API_KEY=sxdr_your_master_api_key_here

# ===========================================
# Email SMTP Configuration
# ===========================================
# Email SMTP Configuration (for sending reports/alerts)
FROM_EMAIL=your-email@gmail.com
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
EMAIL_PASSWORD=your_app_password_here
TO_EMAILS=recipient@example.com

